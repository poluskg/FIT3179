<!DOCTYPE html>
<html>
<head>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
  <!-- Import vega-embed -->
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>

<div id="vis"></div>
<h1>Week 9 Homework Assessment Task</h1>
<script type="text/javascript">
  //var spec = "https://poluskg.github.io/FIT3179/week_9/js/choropleth_map.vg.json";
  var myVis = {
	"$schema": "https://vega.github.io/schema/vega-lite/v4.json",
	"title": "United States of America - 2016 Presidential Election",
	"width": 800,
	"height": 600,
	"projection": {"type": "albersUsa"},
	"data": {
		"url": "https://poluskg.github.io/FIT3179/week_9/js/ne_110m_admin_1_states_provinces.json",
		"format": {"type": "topojson", "feature": "ne_110m_admin_1_states_provinces"}
	},
	"transform": [{
		"lookup": "properties.name",
      	"from": {
        	"data": {
        		"url": "https://poluskg.github.io/FIT3179/week_9/data/state_data.csv"
        	},
        	"key": "state",
        	"fields": ["party"] 
        }
    }
  ],
	"mark": {"type": "geoshape"},
	"encoding": {
		"color": {"field": "party", "type": "nominal", "scale": null}
    }
};
      
  vegaEmbed('#vis', myVis);
  //.then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  //}).catch(console.error);
</script>

</body>
</html>
